(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(6),s=c.n(a),i=(c(22),c(23),c(0)),o=function(){return Object(i.jsx)("div",{className:"footer-copyright",children:Object(i.jsxs)("div",{className:"container",children:["\xa9 2021 Copyright Text",Object(i.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"More Links"})]})})},l=c(5),d=c(3),j=function(){return{type:"GOODS_LOADING"}},u=function(e){return{type:"GOODS_LOADED",payload:e}},b=function(){return{type:"SHOW_BASKET"}},O=function(e){return{type:"CHANGE_TOTAL_PRICE",payload:e}},h=function(e){return{type:"CHANGE_QTTY",payload:e}},f=(c(31),function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(d.c)();return Object(i.jsx)("nav",{children:Object(i.jsx)("div",{className:"nav-wrapper blue lighten-2",children:Object(i.jsxs)("div",{className:"header ",children:[Object(i.jsx)("a",{href:"#",className:"logo",children:"Logo"}),Object(i.jsx)("form",{className:"header-search",children:Object(i.jsx)("input",{value:c,onChange:function(e){return function(e){r(e.target.value),a(function(e){return{type:"CHANGE_SEARCH",payload:e}}(e.target.value))}(e)},placeholder:"Search Products Here....."})})]})})})}),p=c(2),m=(c(32),function(e){var t=Object(d.d)((function(e){return e})),c=t.goods,n=t.order,r=(t.loading,Object(d.c)()),a=e.mainId,s=e.displayName,o=e.displayDescription,l=e.displayAssets,j=e.price;if(!o)return null;return Object(i.jsxs)("div",{className:"card ",children:[Object(i.jsx)("div",{className:"card-image",children:Object(i.jsx)("img",{src:l[0].full_background,alt:s})}),Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsx)("span",{className:"card-title black-text",children:s}),Object(i.jsx)("div",{className:"card-descr",children:o}),Object(i.jsxs)("div",{className:"card-footer",children:[Object(i.jsxs)("p",{className:"card-price",children:[j.finalPrice," UAN"]}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){if(n.find((function(t){return t.mainId===e})));else{var t=c.filter((function(t){return t.mainId===e})),a={mainId:t[0].mainId,displayName:t[0].displayName,displayDescription:t[0].displayDescription,displayAssets:t[0].displayAssets[0].url,price:t[0].price.finalPrice,qtty:1};r(function(e){return{type:"ADD_TO_BASKET",payload:e}}(a)),r(h(1)),r(O(t[0].price.finalPrice))}}(a)},className:"btn blue darken-4",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})]})]})}),x=(c(33),function(){return Object(i.jsx)("div",{class:"preloader-wrapper small active",children:Object(i.jsxs)("div",{class:"spinner-layer spinner-blue-only",children:[Object(i.jsx)("div",{class:"circle-clipper left",children:Object(i.jsx)("div",{class:"circle"})}),Object(i.jsx)("div",{class:"gap-patch",children:Object(i.jsx)("div",{class:"circle"})}),Object(i.jsx)("div",{class:"circle-clipper right",children:Object(i.jsx)("div",{class:"circle"})})]})})}),v=function(){var e=Object(d.d)((function(e){return e})),t=e.goods,c=e.search,n=t.filter((function(e){return e.displayName.toLowerCase().includes([c])})).map((function(e){return Object(i.jsx)(m,Object(p.a)({},e),e.mainId)}));return Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("ul",{className:"goods__list",children:t.length<0?Object(i.jsx)(x,{}):n})})},N=(c(34),function(e){var t=e.price,c=e.id,r=e.displayName,a=(e.mainId,Object(d.d)((function(e){return e}))),s=(a.goods,a.order,Object(n.useState)(1)),o=Object(l.a)(s,2),j=o[0],u=o[1],b=Object(n.useState)(0),f=Object(l.a)(b,2),p=f[0],m=f[1],x=Object(d.c)();Object(n.useEffect)((function(e){m((function(e){return t*j}))}),[]);var v=function(e){x(function(e){return{type:"DELETE_FROM_BASKET",payload:e}}(e)),x(O(-t*j))};return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"collection-item basket-item",children:[Object(i.jsx)("div",{className:"basket-name",children:r}),Object(i.jsxs)("div",{className:"basket-qtty",children:[Object(i.jsx)("button",{onClick:function(){return function(e){1===j?v(e):(u((function(e){return e-1})),m((function(e){return e-t})),x(O(-t)),x(h(-1)))}(c)},className:"dec",children:"-"}),j,Object(i.jsx)("button",{onClick:function(){return u((function(e){return e+1})),m((function(e){return e+t})),x(O(t)),void x(h(1))},className:"inc",children:"+"})]}),t,"x",j," ",p,Object(i.jsx)("i",{onClick:function(){return v(c)},className:"material-icons icons-close",children:"close"})]})})}),g=(c(35),{showBasket:b}),y=Object(d.b)((function(e){return{order:e.order,totalPrice:e.totalPrice}}),g)((function(e){var t=e.order,c=e.totalPrice,n=e.showBasket,r=(e.deleteFromBasket,t.map((function(e){return Object(i.jsx)("div",{children:Object(i.jsx)(N,Object(p.a)({},e))},e.id)})));return Object(i.jsx)("div",{className:"basket",children:Object(i.jsxs)("div",{className:"collection basket-body",children:[Object(i.jsx)("div",{className:"collection-item active blue lighten-1",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),t.length?r:Object(i.jsx)("div",{className:"collection-item ",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),Object(i.jsxs)("div",{className:"collection-item active blue lighten-1",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",c," "]}),Object(i.jsx)("i",{onClick:n,className:"material-icons modal-close",children:"close"})]})})})),A=(c(36),{showBasket:b}),_=Object(d.b)((function(e){return{order:e.order}}),A)((function(e){var t=e.order,c=e.showBasket;return Object(i.jsxs)("div",{onClick:c,className:"cart blue darken-4 white-text",children:[Object(i.jsx)("i",{className:"material-icons",children:"add_shopping_cart"}),Object(i.jsx)("span",{children:t?t.length:0})]})})),k={goodsLoaded:u,goodsLoading:j},E=Object(d.b)((function(e){return{goods:e.goods,loading:e.loading,show:e.basketShow}}),k)((function(e){var t=e.loading,c=e.show,r=(e.goods,Object(d.c)());return Object(n.useEffect)((function(){r({type:"GOODS_LOADING"}),fetch("https://fortniteapi.io/v2/shop?lang=ru",{headers:{Authorization:"e3f6adb0-5e87f392-f8123701-e9796230"}}).then((function(e){return e.json()})).then((function(e){return r(u(e.shop))}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)(_,{}),t?Object(i.jsx)(x,{}):Object(i.jsx)(v,{}),c?Object(i.jsx)(y,{}):null]})}));var S=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(f,{}),Object(i.jsx)(E,{}),Object(i.jsx)(o,{})]})},D=c(11),T=c(8),C=(c(37),{goods:[],loading:!0,order:[],qtty:0,totalPrice:0,basketShow:!1,search:null}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOODS_LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"GOODS_LOADED":return Object(p.a)(Object(p.a)({},e),{},{goods:t.payload,loading:!1});case"ADD_TO_BASKET":return Object(p.a)(Object(p.a)({},e),{},{order:[].concat(Object(T.a)(e.order),[t.payload])});case"DELETE_FROM_BASKET":var c=e.order.findIndex((function(e){return e.id===t.payload}));return Object(p.a)(Object(p.a)({},e),{},{order:[].concat(Object(T.a)(e.order.slice(0,c)),Object(T.a)(e.order.slice(c+1)))});case"CHANGE_TOTAL_PRICE":var n=Number(e.totalPrice)+Number(t.payload);return Object(p.a)(Object(p.a)({},e),{},{totalPrice:n});case"CHANGE_QTTY":var r=Number(e.qtty)+Number(t.payload);return Object(p.a)(Object(p.a)({},e),{},{qtty:r});case"SHOW_BASKET":return Object(p.a)(Object(p.a)({},e),{},{basketShow:!e.basketShow});case"CHANGE_SEARCH":return Object(p.a)(Object(p.a)({},e),{},{search:t.payload});default:return e}},G=c(17),I=Object(D.createStore)(w,Object(G.composeWithDevTools)());s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(d.a,{store:I,children:Object(i.jsx)(S,{})})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.81f427fe.chunk.js.map