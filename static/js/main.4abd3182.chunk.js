(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(6),i=c.n(a),s=(c(22),c(23),c(0)),o=function(){return Object(s.jsx)("div",{className:"footer-copyright",children:Object(s.jsxs)("div",{className:"container",children:["\xa9 2021 Copyright Text",Object(s.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"More Links"})]})})},l=c(8),d=c(3),j=function(){return{type:"GOODS_LOADING"}},u=function(e){return{type:"GOODS_LOADED",payload:e}},b=function(e){return{type:"ADD_TO_BASKET",payload:e}},O=function(){return{type:"SHOW_BASKET"}},p=function(e){return{type:"CHANGE_TOTAL_PRICE",payload:e}},f=function(e){return{type:"CHANGE_QTTY",payload:e}},h=function(e){return{type:"CHANGE_POPUP",payload:e}},m=(c(31),function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],r=t[1],a=Object(d.c)();return Object(s.jsx)("nav",{children:Object(s.jsx)("div",{className:"nav-wrapper blue lighten-2",children:Object(s.jsxs)("div",{className:"header ",children:[Object(s.jsx)("a",{href:"#",className:"logo",children:"Logo"}),Object(s.jsx)("form",{className:"header-search",children:Object(s.jsx)("input",{value:c,onChange:function(e){return function(e){r(e.target.value),a(function(e){return{type:"CHANGE_SEARCH",payload:e}}(e.target.value))}(e)},placeholder:"Search.. "})})]})})})}),x=(c(32),function(){Object(d.d)((function(e){return e})).popup;var e=Object(d.c)();Object(n.useEffect)((function(){setTimeout(t,1e3)}),[]);var t=function(){e(h(!1))};return Object(s.jsx)("div",{className:"popup",children:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})}),v=c(2),y=(c(33),function(){return Object(s.jsx)("div",{class:"preloader-wrapper small active",children:Object(s.jsxs)("div",{class:"spinner-layer spinner-blue-only",children:[Object(s.jsx)("div",{class:"circle-clipper left",children:Object(s.jsx)("div",{class:"circle"})}),Object(s.jsx)("div",{class:"gap-patch",children:Object(s.jsx)("div",{class:"circle"})}),Object(s.jsx)("div",{class:"circle-clipper right",children:Object(s.jsx)("div",{class:"circle"})})]})})}),N=function(e){var t=Object(d.d)((function(e){return e})),c=t.goods,r=(t.loading,Object(d.c)()),a=Object(n.useState)(1),i=Object(l.a)(a,2),o=i[0],j=i[1],u=e.mainId,O=e.displayName,m=e.displayDescription,x=e.displayAssets,v=e.price;if(!m)return null;return Object(s.jsxs)("div",{className:"card ",children:[Object(s.jsx)("div",{className:"card-image",children:Object(s.jsx)("img",{src:x[0].full_background,alt:O})}),Object(s.jsxs)("div",{className:"card-content",children:[Object(s.jsx)("span",{className:"card-title black-text",children:O}),Object(s.jsx)("div",{className:"card-descr",children:m}),Object(s.jsxs)("div",{className:"card-footer",children:[Object(s.jsxs)("p",{className:"card-price",children:[v.finalPrice," UAN"]}),Object(s.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){var t=c.filter((function(t){return t.mainId===e}));j(o+1),r(b(e)),r(f(o)),r(p(t[0].price.finalPrice)),r(h(!0))}(u)},className:"btn blue darken-4 card-button",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})]})]})},g=(c(34),function(){var e=Object(d.d)((function(e){return e})),t=e.goods,c=e.search,n=t.filter((function(e){return e.displayName.toLowerCase().includes([c])})).map((function(e){return Object(s.jsx)(N,Object(v.a)({},e),e.mainId)}));return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("ul",{className:"goods__list",children:t.length<0?Object(s.jsx)(y,{}):n})})}),E=(c(35),function(e){var t=e.price,c=(e.id,e.displayName),n=e.mainId,r=Object(d.d)((function(e){return e})).order,a=Object(d.c)(),i=r.filter((function(e){return e.mainId===n})).map((function(e){return e.qtty})),o=function(e){a(function(e){return{type:"DELETE_FROM_BASKET",payload:e}}(e)),a(p(-t*i)),a(f(0))};return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"collection-item basket-item",children:[Object(s.jsx)("div",{className:"basket-name",children:c}),Object(s.jsxs)("div",{className:"basket-qtty",children:[Object(s.jsx)("button",{onClick:function(){return function(e){1==i?o(e):(a(p(-t)),a(f(-1)),a(function(e){return{type:"DELETE_FRON_BACKET_QTTY",payload:e}}(e)))}(n)},className:"dec",children:"-"}),i,Object(s.jsx)("button",{onClick:function(){return function(e){a(p(t)),a(f(1)),a(b(e))}(n)},className:"inc",children:"+"})]}),Object(s.jsxs)("div",{className:"basket_sum",children:[t,"x",i," ",t*i]}),Object(s.jsx)("i",{onClick:function(){return o(n)},className:"material-icons icons-close",children:"close"})]})})}),_=(c(36),{showBasket:O}),A=Object(d.b)((function(e){return{order:e.order,totalPrice:e.totalPrice}}),_)((function(e){var t=e.order,c=e.totalPrice,n=e.showBasket,r=(e.deleteFromBasket,t.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(E,Object(v.a)({},e))},e.id)})));return Object(s.jsx)("div",{className:"basket",children:Object(s.jsxs)("div",{className:"collection basket-body",children:[Object(s.jsx)("div",{className:"collection-item active blue lighten-1",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),t.length?r:Object(s.jsx)("div",{className:"collection-item ",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),Object(s.jsxs)("div",{className:"collection-item active blue lighten-1",children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",c," "]}),Object(s.jsx)("i",{onClick:n,className:"material-icons modal-close",children:"close"})]})})})),T=(c(37),{showBasket:O}),k=Object(d.b)((function(e){return{order:e.order}}),T)((function(e){var t=e.order,c=e.showBasket;return Object(s.jsxs)("div",{onClick:c,className:"cart blue darken-4 white-text",children:[Object(s.jsx)("i",{className:"material-icons",children:"add_shopping_cart"}),Object(s.jsx)("span",{children:t?t.length:0})]})})),D={goodsLoaded:u,goodsLoading:j},S=Object(d.b)((function(e){return{goods:e.goods,loading:e.loading,show:e.basketShow}}),D)((function(e){var t=e.loading,c=e.show,r=(e.goods,Object(d.c)());return Object(n.useEffect)((function(){r({type:"GOODS_LOADING"}),fetch("https://fortniteapi.io/v2/shop?lang=ru",{headers:{Authorization:"e3f6adb0-5e87f392-f8123701-e9796230"}}).then((function(e){return e.json()})).then((function(e){return r(u(e.shop))}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(k,{}),t?Object(s.jsx)(y,{}):Object(s.jsx)(g,{}),c?Object(s.jsx)(A,{}):null]})}));var C=function(){var e=Object(d.d)((function(e){return e})).popup;return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(m,{}),Object(s.jsx)(S,{}),Object(s.jsx)(o,{}),e?Object(s.jsx)(x,{}):null]})},I=c(11),w=c(4),P=(c(38),{goods:[],loading:!0,order:[],qtty:0,totalPrice:0,basketShow:!1,search:null,popup:!1}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOODS_LOADING":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"GOODS_LOADED":return Object(v.a)(Object(v.a)({},e),{},{goods:t.payload,loading:!1});case"ADD_TO_BASKET":var c=e.order.findIndex((function(e){return e.mainId===t.payload}));if(c>=0){var n=e.order.find((function(e){return e.mainId===t.payload})),r=Object(v.a)(Object(v.a)({},n),{},{qtty:++n.qtty});return Object(v.a)(Object(v.a)({},e),{},{order:[].concat(Object(w.a)(e.order.slice(0,c)),[r],Object(w.a)(e.order.slice(c+1)))})}var a=e.goods.find((function(e){return e.mainId===t.payload})),i={mainId:a.mainId,displayName:a.displayName,displayDescription:a.displayDescription,displayAssets:a.displayAssets[0].url,price:a.price.finalPrice,qtty:1};return Object(v.a)(Object(v.a)({},e),{},{order:[].concat(Object(w.a)(e.order),[i])});case"DELETE_FROM_BASKET":var s=e.order.findIndex((function(e){return e.mainId===t.payload}));return Object(v.a)(Object(v.a)({},e),{},{order:[].concat(Object(w.a)(e.order.slice(0,s)),Object(w.a)(e.order.slice(s+1)))});case"DELETE_FRON_BACKET_QTTY":var o=e.order.findIndex((function(e){return e.mainId===t.payload}));if(o>=0){var l=e.order.find((function(e){return e.mainId===t.payload})),d=Object(v.a)(Object(v.a)({},l),{},{qtty:--l.qtty});return Object(v.a)(Object(v.a)({},e),{},{order:[].concat(Object(w.a)(e.order.slice(0,o)),[d],Object(w.a)(e.order.slice(o+1)))})}return Object(v.a)({},e);case"CHANGE_TOTAL_PRICE":var j=Number(e.totalPrice)+Number(t.payload);return Object(v.a)(Object(v.a)({},e),{},{totalPrice:j});case"CHANGE_QTTY":if(0===t.payload)return Object(v.a)(Object(v.a)({},e),{},{qtty:0});var u=Number(e.qtty)+Number(t.payload);return Object(v.a)(Object(v.a)({},e),{},{qtty:u});case"SHOW_BASKET":return Object(v.a)(Object(v.a)({},e),{},{basketShow:!e.basketShow});case"CHANGE_SEARCH":return Object(v.a)(Object(v.a)({},e),{},{search:t.payload});case"CHANGE_POPUP":return Object(v.a)(Object(v.a)({},e),{},{popup:t.payload});default:return e}},L=c(17),B=Object(I.createStore)(G,Object(L.composeWithDevTools)());i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(d.a,{store:B,children:Object(s.jsx)(C,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.4abd3182.chunk.js.map